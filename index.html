<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Telegram Gift Auction</title>

<style>
body{margin:0;background:#f2f4f8;font-family:system-ui}
header{background:#0088cc;color:#fff;padding:16px;text-align:center;font-size:22px;font-weight:700}
.container{max-width:480px;margin:16px auto}
.card{background:#fff;border-radius:12px;padding:16px;margin-bottom:16px;box-shadow:0 4px 10px rgba(0,0,0,.08)}
.title{font-size:20px;font-weight:700}
.timer{color:red;font-weight:700}
button{width:100%;padding:12px;margin-top:8px;background:#0088cc;color:#fff;border:none;border-radius:8px;font-size:16px}
input{width:100%;padding:10px;margin-top:8px}
.balance{text-align:center;font-size:18px;font-weight:700}
.inventory-item{border-top:1px solid #ddd;padding-top:8px;margin-top:8px}
.sell{background:#28a745}
</style>
</head>

<body>

<header>Telegram Gift Auction</header>

<div class="container">

<div class="balance">
üí∞ –ë–∞–ª–∞–Ω—Å: $<span id="balance">10000</span>
</div>

<div id="auction"></div>

<div class="card">
<div class="title">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
<div id="inventory">–ü—É—Å—Ç–æ</div>
</div>

</div>

<script>
let balance = 10000;
let inventory = [];

const lots = [
 "üöó Tesla Model X",
 "üè† Luxury House",
 "üì± iPhone 15 Pro",
 "üèù Private Villa",
 "üíé Diamond Watch"
];

const bots = Array.from({length:Math.floor(Math.random()*3)+3})
.map((_,i)=>({
 name:`Bot_${i+1}`,
 balance:Math.floor(Math.random()*8000)+3000
}));

let lot, price, time, lastBid;

function newLot(){
 lot = lots[Math.floor(Math.random()*lots.length)];
 price = Math.floor(Math.random()*1000)+500;
 time = 30;
 lastBid = "‚Äî";
 render();
}

function render(){
 document.getElementById("auction").innerHTML = `
 <div class="card">
  <div class="title">${lot}</div>
  <div>üíµ –°—Ç–∞–≤–∫–∞: $${price}</div>
  <div>‚è± –í—Ä–µ–º—è: <span class="timer">${time}</span> —Å–µ–∫</div>
  <div>üëë –ü–æ—Å–ª–µ–¥–Ω–∏–π: ${lastBid}</div>
  <input id="bid" placeholder="–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞">
  <button onclick="playerBid()">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</button>
 </div>`;
 document.getElementById("balance").innerText = balance;
 renderInventory();
}

function playerBid(){
 const v = Number(document.getElementById("bid").value);
 if(v>price && v<=balance){
  price=v;
  lastBid="–í—ã";
 }
}

function renderInventory(){
 const el = document.getElementById("inventory");
 if(inventory.length===0){
  el.innerText="–ü—É—Å—Ç–æ";
  return;
 }
 el.innerHTML="";
 inventory.forEach((item,i)=>{
  el.innerHTML+=`
  <div class="inventory-item">
   ${item.title} ‚Äî $${item.price}
   <button class="sell" onclick="sell(${i})">–ü—Ä–æ–¥–∞—Ç—å</button>
  </div>`;
 });
}

function sell(i){
 const item = inventory[i];
 const profit = Math.floor(item.price*(Math.random()*0.2+0.1));
 balance += item.price + profit;
 inventory.splice(i,1);
 render();
 alert(`üí∏ –ü—Ä–æ–¥–∞–Ω–æ!\n+ $${item.price+profit}`);
}

setInterval(()=>{
 bots.forEach(bot=>{
  if(Math.random()<0.25){
   const inc=Math.floor(Math.random()*200)+50;
   if(bot.balance>price+inc){
    price+=inc;
    lastBid=bot.name;
   }
  }
 });
 render();
},4000);

setInterval(()=>{
 time--;
 if(time<=0){
  if(lastBid==="–í—ã"){
   balance-=price;
   inventory.push({title:lot,price});
   alert(`üéâ –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!\n${lot}\n–¶–µ–Ω–∞: $${price}`);
  }
  newLot();
 }
 render();
},1000);

newLot();
</script>

</body>
</html>
